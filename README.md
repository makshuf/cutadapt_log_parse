# cutadapt_log_parse

`cutadapt_log_parse` is a Python script designed to parse and extract detailed adapter-trimming information from the output logs of Cutadapt version 4.9. Cutadapt is a widely used tool for removing adapter sequences, primers, poly-A tails, and other unwanted sequences from high-throughput sequencing reads.

## Features

- **Detailed Adapter Information**: Extracts per-sample adapter sequences and their trimming counts for both the first and second reads.

- **Comprehensive Summary**: Provides a summary of total trimmed counts per adapter sequence, including separate counts for Read 1 and Read 2.

- **CSV Output**: Generates a CSV file summarizing the extracted metrics for easy analysis and integration with other tools.

## Requirements

- Python 3.6 or higher

- pandas library

- Cutadapt 4.9 log files

## Installation

1. **Clone the repository**:

   ```bash
   git clone https://github.com/makshuf/cutadapt_log_parse.git
   ```

2. **Navigate to the project directory**:

   ```bash
   cd cutadapt_log_parse
   ```

3. **Install required dependencies**:

   ```bash
   pip install pandas
   ```

## Usage

1. **Prepare your Cutadapt log file**: Ensure you have a log file generated by Cutadapt 4.9.

2. **Run the script**:

   ```bash
   python parse_cutadapt_adapters.py <cutadapt_log_file> > output.csv
   ```

   - `<cutadapt_log_file>`: Path to the Cutadapt log file.

   - `output.csv`: Name of the output CSV file.

   *Example*:

   ```bash
   python parse_cutadapt_adapters.py sample_cutadapt.log > parsed_output.csv
   ```

## Output

The script produces a CSV file containing the following columns:

- `Sample Name`: Identifier for the sample (e.g., "RAT10").

- `Adapter Sequence`: The specific adapter sequence trimmed.

- `Trimmed (Read 1)`: Number of times the adapter was trimmed in the first read.

- `Trimmed (Read 2)`: Number of times the adapter was trimmed in the second read.

- `Total Trimmed`: Total number of times the adapter was trimmed across both reads.

Additionally, for each sample, a row with `Adapter Sequence` set to "TOTAL" provides the aggregate trimming counts for all adapters in that sample.

### Example Output

The script produces a CSV file with the following structure:

| Sample Name | Adapter Sequence                                             | Trimmed (Read 1) | Trimmed (Read 2) | Total Trimmed |
|-------------|-------------------------------------------------------------|------------------|------------------|---------------|
| RAT10       | CTGTCTCTTATACACATCT                                          | 410              | 725              | 1135          |
| RAT10       | GTCTCGTGGGCTCGGAGATGTGTATAAGAGACAGGACTACHVGGGTATCTAATCC      | 0                | 1121285          | 1121285       |
| RAT10       | TCGTCGGCAGCGTCAGATGTGTATAAGAGACAGCCTACGGGNGGCWGCAG           | 1238691          | 0                | 1238691       |
| RAT10       | TOTAL                                                       | 1239101          | 1122010          | 2361111       |
| RAT11       | CTGTCTCTTATACACATCT                                          | 347              | 731              | 1078          |
| RAT11       | GTCTCGTGGGCTCGGAGATGTGTATAAGAGACAGGACTACHVGGGTATCTAATCC      | 0                | 1112011          | 1112011       |
| RAT11       | TCGTCGGCAGCGTCAGATGTGTATAAGAGACAGCCTACGGGNGGCWGCAG           | 1205605          | 0                | 1205605       |
| RAT11       | TOTAL                                                       | 1205952          | 1112742          | 2318694       |

### Notes:
- **Sample Name**: The identifier for the sample (e.g., "RAT10").
- **Adapter Sequence**: The specific adapter sequence detected and trimmed.
- **Trimmed (Read 1)**: Number of times the adapter was trimmed in the first read.
- **Trimmed (Read 2)**: Number of times the adapter was trimmed in the second read.
- **Total Trimmed**: Total number of times the adapter was trimmed across both reads.

This table provides a clear example of how the results will be displayed in the output CSV.

![image](https://github.com/user-attachments/assets/fe09db68-a8ad-43fa-95fe-b045ba905c82)


## Contributing

Contributions are welcome!

1. **Fork the repository**.

2. **Create a new branch**:

   ```bash
   git checkout -b feature_branch
   ```

3. **Make your changes**.

4. **Commit your changes**:

   ```bash
   git commit -m "Description of changes"
   ```

5. **Push to the branch**:

   ```bash
   git push origin feature_branch
   ```

6. **Create a Pull Request**.

## License

This project is licensed under the MIT License.

## Acknowledgements

Special thanks to the developers of [Cutadapt](https://cutadapt.readthedocs.io/) for providing a robust tool for sequence trimming.

## References

- Cutadapt Documentation: https://cutadapt.readthedocs.io/

- Cutadapt GitHub Repository: https://github.com/marcelm/cutadapt

*Note*: Ensure that the script is compatible with the specific format of Cutadapt 4.9 log files. If there are significant changes in log formats between versions, the script may require updates to maintain compatibility.
